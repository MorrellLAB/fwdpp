<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>fwdpp: FWDPP RELEASE NOTES</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fwdpp
   &#160;<span id="projectnumber">0.4.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">FWDPP RELEASE NOTES </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>0.4.5</h2>
<ul>
<li>Issues #31 and #32 fixed The file fwdpp/internal/gamete_lookup_table.hpp was removed and the library updated to stop using this method to check for gamete uniqueness. The result is a 20% reduction in run times and a slight reduction in peak memory use. This change was enabled by the changes introduced in 0.4.4, and comes with no change in output.</li>
<li>Partial loop unrolling and branch removal from <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html#ae38f0d7081d2dc8e9f605833124d197c">KTfwd::fwdpp_internal::recombine_gametes</a></li>
<li>Faster fitness calculations via the removal of if statements from a for loop in <a class="el" href="../../d0/ddb/structKTfwd_1_1site__dependent__fitness.html" title="Function object for fitness as a function of individual mutations in a diploid. ">KTfwd::site_dependent_fitness</a></li>
<li><a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html#a111eed9535387f6341dab21bd39c2710">KTfwd::fwdpp_internal::add_new_mutation</a> was shortened for clarity</li>
<li><a class="el" href="../../de/d6e/group__sugar.html#gaf66ce861e458d7e15f98bbbb9e87ad38" title="Single locus metapopulation simulation object. ">KTfwd::metapop</a> objects now copy- and move- constructible from <a class="el" href="../../de/d6e/group__sugar.html#ga618c1f80e050a17d765e89f784f6abdb" title="Single locus, single population object. ">KTfwd::singlepop</a> objects</li>
<li>Support for demographic events via the low-level functions <a class="el" href="../../dc/d14/group__demography.html#ga53c40c73e3488232b7f4d7a48ebdfc86" title="Copy a deme. ">KTfwd::copy_deme</a>, <a class="el" href="../../dc/d14/group__demography.html#gaf709bc3b6f9adbbfae5c397aec2a20be" title="Merge demes. ">KTfwd::merge_demes</a>, <a class="el" href="../../dc/d14/group__demography.html#gab3c5a42603b8f59bd04efcdd5d32f347" title="Delete a deme. ">KTfwd::remove_deme</a>, <a class="el" href="../../dc/d14/group__demography.html#gaf0123b287b34e04d773d224ab021067d" title="Swap demes. ">KTfwd::swap_demes</a>, <a class="el" href="../../dc/d14/group__demography.html#ga8de952fb08c47603eb572f3047b78f8f" title="Split deme into two. ">KTfwd::split_deme</a>, and <a class="el" href="../../dc/d14/group__demography.html#gaa06a6d46e7ea33c7350224db265f6deb" title="Create admixed population. ">KTfwd::admix_demes</a>.</li>
<li>Higher-level support for demographic models via the sugar-layer functions <a class="el" href="../../da/d8b/namespaceKTfwd.html#a7b4bec69c0ac26b5425e89cff2f42ea4" title="Copy a deme Make an exact copy of the i-th population. ">KTfwd::copy_pop</a>, KTfwd::merge_pop, <a class="el" href="../../da/d8b/namespaceKTfwd.html#a8f36b2f57bf6fd0284223ef0b9ecbff9" title="Delete a deme. ">KTfwd::remove_pop</a>, <a class="el" href="../../da/d8b/namespaceKTfwd.html#a60f658b75c95eae2bd13fcc0cd55f6e8" title="Swap two demes. ">KTfwd::swap_pops</a>, <a class="el" href="../../da/d8b/namespaceKTfwd.html#a1d6297fa16edff06255eefcbb7ac140d" title="&quot;Bud&quot; off a new sub-population ">KTfwd::split_pop</a>, and <a class="el" href="../../da/d8b/namespaceKTfwd.html#ad670c4b49c634011cb3d0a013ae7cff5" title="Create an admixed population. ">KTfwd::admix_pops</a>.</li>
<li>New unit tests added and old ones refined</li>
</ul>
<h2>0.4.4</h2>
<p>TL;DR Big performance improvements due to better handling of objects in memory. Yay! API changes. Boo!</p>
<p><b>The library documentation is likely to be out of date until a future release</b></p>
<ul>
<li>Vastly improved management of object lifetimes:<ul>
<li>Extinct mutations/gametes are no longer removed each generation.</li>
<li>FIFO queues are constructed each generation in order to "recycle" those objects as new mutations/gametes.<ul>
<li>The queue is implemented as std::queue&lt;mlist::iterator&gt; or std::queue&lt;glist::iterator&gt; for mutations and gametes, respectively.</li>
<li>These queues result in big performance improvements for "big" simulations, at the cost of breaking API compatibility. The performance improvement is both reduced run time and reduced memory usage.</li>
<li>In order to accomodate the "recycling", mutation models must now return iterators derived from the mutation list, rather than mutation types themselves.</li>
<li>Additionally, the internal mutation/recombination functions must take non-const references to "recycling bins", which are the FIFO queues.</li>
</ul>
</li>
<li>Mutation type data members (objects inheriting from <a class="el" href="../../d1/da4/structKTfwd_1_1mutation__base.html" title="Base class for mutations At minimum, a mutation must contain a position and a count in the population...">KTfwd::mutation_base</a>) are no longer const. This is required in order to enable the "recycling".</li>
<li>In order to take advantage of this feature, extinct mutations must not be removed each generation. The function <a class="el" href="../../da/d8b/namespaceKTfwd.html#ae746c8b4f9c980b1baf010f34290ff57">KTfwd::update_mutations</a> should be removed instead of KTfwd::remove_lost, KTfwd::remove_fixed_lost, etc. The latter functions are marked as deprecated.</li>
<li>The details of recycling are handled by <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html#a688fc3676315f726275f3e57231e462e">KTfwd::fwdpp_internal::make_mut_queue</a>, <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html#a2c946b559f170310a55b775e7013e644">KTfwd::fwdpp_internal::make_gamete_queue</a>, <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html#aef9c4544ac87095440060ac4ad2c72f4">KTfwd::fwdpp_internal::recycle_gamete</a>, and the very cool variadic template function <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html#a6422cbeb4862e3527fff695e1cc2fba5" title="Helper function for mutation policies. ">KTfwd::fwdpp_internal::recycle_mutation_helper</a>. These types/functions are found in <a class="el" href="../../d6/d3f/recycling_8hpp.html">fwdpp/internal/recycling.hpp</a>.</li>
</ul>
</li>
<li>Improved memory managament:<ul>
<li>"Recycling" means that the linked lists used are much more constant in memory with respect to allocations. Thus, it makes sense to allocate objects prior to simulation.</li>
<li>The functions KTfwd::add_elements in the main library and KTfwd::add_recyclable in the sugar sub-library allow the addition of recylable objects. See example programs for how to use these functions.</li>
</ul>
</li>
<li>Other API changes:<ul>
<li>As a result of the changes described above, the data structures of the library were changed from linked lists of iterators to vectors of std::size_t. This is a radical change to the data layout, and results in further speedups.</li>
<li><a class="el" href="../../da/d8b/namespaceKTfwd.html#a0a185fec49aa68f3435e003b377cafd1">KTfwd::sample_diploid</a> has been streamlined in light of common defaults</li>
<li>Recombination policies have been simplified. See <a class="el" href="../../d2/df0/structKTfwd_1_1poisson__xover.html">KTfwd::poisson_xover</a> for an example.</li>
</ul>
</li>
<li>Behavior changes:<ul>
<li>As a result of object recycling, data structures (mutation and gamete lists, specifically) at the end of a simulation contain both extant and extinct objects.</li>
</ul>
</li>
<li>Implementation changes:<ul>
<li>Serialized populations may contain extinct mutations and gametes.</li>
<li>A lot of redundant code has been replaced with function calls. This should help prevent bugs like Issue #27, which was due to a botched copy-paste, which happens when code is written in a hurry...</li>
<li>Simpler dispatch method for mutation models (KTfwd::fwdpp_internal::mutation_model_dispatcher)</li>
</ul>
</li>
<li>Improved "type traits" sub-library (namespace <a class="el" href="../../d0/d30/namespaceKTfwd_1_1traits.html" title="Nested namespace type traits. ">KTfwd::traits</a>)</li>
<li>Deprecated functions/objects removed from library</li>
<li>Bug fixes:<ul>
<li>Issue #30 fixed regarding serialization of <a class="el" href="../../da/dde/structKTfwd_1_1generalmut.html" title="Mutation type allowing arbitray number of &quot;s,h&quot; pairs representing effect sizes,dominance.This type represents a mutation with a number of &#39;s&#39; and &#39;h&#39; parameters that are fixed at compile time. ">KTfwd::generalmut</a> and <a class="el" href="../../d9/d9e/structKTfwd_1_1generalmut__vec.html" title="Mutation type allowing arbitray number of &quot;s,h&quot; pairs representing effect sizes,dominance.This type represents a mutation with a number of &#39;s&#39; and &#39;h&#39; parameters that are determined at run time. ">KTfwd::generalmut_vec</a></li>
<li>A bug in <a class="el" href="../../d7/de2/group__samplingPopsInd.html#ga592a1d6b977c5aca8656a118a944ddbf" title="Sampling from a population in an individual-based simulation. ">KTfwd::ms_sample</a> and <a class="el" href="../../d7/de2/group__samplingPopsInd.html#ga592a1d6b977c5aca8656a118a944ddbf" title="Sampling from a population in an individual-based simulation. ">KTfwd::ms_sample</a> separate was identified and fixed. The bug only applied to multilocus simulations. The bug was that the first 'n' chromosomes were sampled, rather than 'n' randomly-chosen chromosomes. The effect of the bug is that the first sample is truly random (as chromosomes are not sorted in any meaningful way), but a second sample would overlap with the first, etc.</li>
</ul>
</li>
</ul>
<h2>0.4.3</h2>
<ul>
<li>Fix for issue #29</li>
<li>Keyword 'mutable' replaced with 'const' throughout library</li>
<li><a class="el" href="../../da/d13/structKTfwd_1_1extensions_1_1gaussian.html">KTfwd::extensions::gaussian</a> now uses ziggurat method</li>
<li>Types declared in <a class="el" href="../../d3/da7/callbacks_8hpp.html">fwdpp/extensions/callbacks.hpp</a> now have const member data. A unit test was added as a check on the API of this file.</li>
<li>New mutation types added: <a class="el" href="../../da/dde/structKTfwd_1_1generalmut.html" title="Mutation type allowing arbitray number of &quot;s,h&quot; pairs representing effect sizes,dominance.This type represents a mutation with a number of &#39;s&#39; and &#39;h&#39; parameters that are fixed at compile time. ">KTfwd::generalmut</a> and <a class="el" href="../../d9/d9e/structKTfwd_1_1generalmut__vec.html" title="Mutation type allowing arbitray number of &quot;s,h&quot; pairs representing effect sizes,dominance.This type represents a mutation with a number of &#39;s&#39; and &#39;h&#39; parameters that are determined at run time. ">KTfwd::generalmut_vec</a>, in <a class="el" href="../../dd/d4e/generalmut_8hpp.html">fwdpp/sugar/generalmut.hpp</a>. A new unit test file goes along with it.</li>
</ul>
<h2>0.4.2</h2>
<ul>
<li>Fixed error in definition of KTfwd::metapop_serialized and KTfwd::multiloc_serialized.</li>
</ul>
<h2>0.4.1</h2>
<ul>
<li>fwdppConfig no longer attempts linkage to dependent libraries</li>
<li>fixed errors in fwdpp/initms.hpp caught by clang++</li>
</ul>
<h2>0.4.0</h2>
<ul>
<li><a class="el" href="../../dc/dbd/sampling_8hpp.html">fwdpp/sugar/sampling.hpp</a> added. This streamlines taking samples from populations</li>
<li>Unit test <a class="el" href="../../d6/d4f/sugar__sampling_8cc.html" title="Testing KTfwd::sample and KTfwd::sample_separate. ">unit/sugar_sampling.cc</a> added</li>
<li>New test added to <a class="el" href="../../d1/dbe/crossoverTest_8cc.html" title="Tests of KTfwd::fwdpp_internal::recombine_gametes. ">unit/crossoverTest.cc</a></li>
<li>libsequence is no longer an installation dependency</li>
</ul>
<h2>0.3.9</h2>
<p>This release fixes a minor bug for very high mutation rates. Upgrading to this version is recommended!</p>
<ul>
<li>Fixed issues 26 and 27.</li>
<li>New unit tests added to check sampling from populations</li>
</ul>
<h2>0.3.8</h2>
<ul>
<li>Added some include directives whose omission resulted in failure to compile on clang.</li>
<li>Doxygen input file now generated by ./configure. No more need to manually update the version.</li>
</ul>
<h2>0.3.7</h2>
<ul>
<li>An declaration of <a class="el" href="../../da/d8b/namespaceKTfwd.html#aa61deb23ca543c4508c83be0690ae408">KTfwd::recombine_gametes</a> was fixed to match the implementation</li>
<li>Minor re-organization of recombination code</li>
<li>The details of <a class="el" href="../../d7/de2/group__samplingPopsInd.html#ga0672f69f8014c3093881f258ae2b3beb" title="Sampling from a population in an individual-based simulation. Selected and neutral mutations returned...">KTfwd::ms_sample_separate</a> were moved into KTfwd::internal. This move allows access to functions that sample a specific set of diploids, which is handy in a lot of cases.</li>
</ul>
<h2>0.3.6</h2>
<ul>
<li>The internal lookup table has been further refined, resulting in much faster simulations with selection.</li>
<li><a class="el" href="../../d6/d39/structKTfwd_1_1additive__diploid.html" title="Additive fitness across sites. ">KTfwd::additive_diploid</a> and <a class="el" href="../../dd/de5/structKTfwd_1_1multiplicative__diploid.html" title="Multiplicative fitness across sites. ">KTfwd::multiplicative_diploid</a> now have checks to prevent returning fitnesses &lt; 0.</li>
</ul>
<h2>0.3.5</h2>
<ul>
<li>Faster simulations with selection due to new data structure. The gamete lookup tables introduced in 0.3.3 have been reworked. This is not an API change, but rather an internal change that will be transparent to programmers using the library.</li>
<li>"make check" now executes all unit tests, if and only if the boost unit testing library is present.</li>
<li>Source code reorganization &ndash; Issue #21</li>
<li>Sugar code can now be included all at once. This resolves Issue #23. The convenience header is:</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="../../d7/d63/sugar_8hpp.html">fwdpp/sugar.hpp</a>&gt;</span></div>
</div><!-- fragment --><ul>
<li>configure script now allows linking to the jemalloc library. Preliminary benchmarks suggest that linking to tcmalloc gives better performance, but users may test for themselves:</li>
</ul>
<div class="fragment"><div class="line">./configure --enable-jemalloc=yes</div>
</div><!-- fragment --><ul>
<li>Travis-CI integration was added for the Git repo.</li>
<li>Getting the Travis-CI integration to work resulted in changes to the unit tests and the experimental examples to improve their handling of boost-related things.</li>
<li>unit/policyTests.cc was modified. Previously, it was failing on GCC for the "wrong" reason. The moves were actually happening, but the return value was being set at the wrong time.</li>
<li>Various code cleanup</li>
</ul>
<h2>0.3.4</h2>
<ul>
<li>LICENSE/COPYING files updated</li>
<li>Tutorial improved for multi-locus simulations</li>
<li>Issue #20 addressed throughout the library + examples + unit tests</li>
</ul>
<h2>0.3.3</h2>
<p>This release of <b>fwdpp</b> includes major performance improvements. The short version of the story is:</p>
<ul>
<li>Linked lists are traversed less often each generation compared to previous versions.</li>
<li>An (extremely) expensive linear-time search of a linked list that previously occurred after <em>every</em> recombination event has been eliminated, and replaced with a very fast log-time search of a lookup table.</li>
<li>The containers required for storing the intermediate steps of recombination are now allocated at most once per replicate, and their capacity is adjusted as needed during the simulation. Previously, these containers were allocated for every crossover event.</li>
<li>The way that mutations are copied during recombination has been changed from a call to std::copy to the vector's insert member function, resulting in fewer reallocations during copying.</li>
</ul>
<p>The result is much better scaling with large population size and recombination rates.</p>
<p>Major changes:</p>
<ul>
<li>Crossing over has been streamlined. Unfortunately, this changes the library API. However, run times improve substantially.</li>
<li>The library internals now use different insertion methods during recombination. We swtiched from copy(beg,end,back_inserter(x)) to x.insert(x.end(),beg,end), which results in less memory usage, and some run-time improvement for large simulations.</li>
<li>API change: the simplification of metapopulation containers in 0.3.2 means that we can make the recombination policies required for such simulations the same as for single-deme simulations.</li>
<li>The build system has been streamlined, with fewer dependencies and a greater emphasis on standard containers + Google's perftools.</li>
<li>The various read/write functions for serializations have been renamed&ndash;I simply couldn't get the template declarations to auto-deduce the types. I gave up on this one, and so there's an API change. On the plus side, <a class="el" href="../../df/d9f/IO_8hpp.html">IO.hpp</a>/IO.tcc are more readable now.</li>
</ul>
<p>Minor changes:</p>
<ul>
<li><a class="el" href="../../d0/d8e/structKTfwd_1_1serialize.html" title="Serialize populations. ">KTfwd::serialize</a> now has a default constructor and a move constructor defined, allowing it to be a member of another class, which helps things in <a href="http://github.com/molpopgen/foRward">foRward</a>.</li>
<li><a class="el" href="../../d0/d8e/structKTfwd_1_1serialize.html" title="Serialize populations. ">KTfwd::serialize</a> can now be used to serialize multiple records into a single buffer.</li>
<li>A "validation suite" has been added. This is mostly for the developer to have an automatic way to check for problems.</li>
<li>The package now installs a single binary called fwdppConfig. This program is intended to be used in configure scripts to make checking for fwdpp's existence and/or version easier. It takes a single option:</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#Get the version of fwdpp installed on your system (or at least the one most readily visible in your user&#39;s environment).</span></div>
<div class="line"><span class="preprocessor">fwdppConfig --version</span></div>
</div><!-- fragment --><h2>0.3.2</h2>
<p>This release make some tweaks that improve performance:</p>
<ul>
<li>All occurrences of boost::pool_allocator have been replaced by boost::fast_pool_allocator in the declarations of population types in the sugar layer (see <a class="el" href="../../db/dd8/md_md_sugar.html">Tutorial 5: the "sugar" layer on top of fwdpp</a>). This can result in &gt;= 10% reductions in run times are recombination rates increase.</li>
<li>The mechanics of adding mutations and recombining gametes have been streamlined slightly.</li>
<li>A handful of cases where objects were copied instead of passed-by-reference were fixed.</li>
<li>Issue #17 fixed</li>
<li>Issue #14 fixed</li>
<li>Issue #16 fixed</li>
</ul>
<h2>0.3.1</h2>
<p>This release has many significant changes. With the exception of the removal of KTfwd::tags::gamete_dependent, which was released in 0.3.0, and the change in the implementation of KTfwd::infsites::operator(), the library remains source-compatible with existing simulations.</p>
<ul>
<li>Multilocus, single-population version of <a class="el" href="../../da/d8b/namespaceKTfwd.html#a0a185fec49aa68f3435e003b377cafd1">KTfwd::sample_diploid</a> now allows for inbreeding coefficient of 0 by default.</li>
<li>Warnings from <a class="el" href="../../df/d07/structKTfwd_1_1infsites.html" title="Generic function object implementing the infinitely-many sites mutation model for &quot;standard&quot; populati...">KTfwd::infsites</a> suppressed w/compiler trick</li>
<li>Extraneous gsl_rng free removed from <a class="el" href="../../d9/de8/diploid__ind_8cc.html">diploid_ind.cc</a></li>
<li>Issue #12 in <a class="el" href="../../df/d10/common__ind_8hpp.html">examples/common_ind.hpp</a> fixed</li>
<li>Issue #13 appears to be fixed, too. This was tricky, as it was not reproducible on my systems, but is now fixed on the system of the person who reported it.</li>
<li>The library no longer requires that std::pair&lt; T,T &gt; are the types used for a diploid genotype (where the "T" are iterator types derived from gametes lists). Now, custom diploid genotypes may be used, as long as the follow certain constraints (see <a class="el" href="../../d2/dcd/md_md_customdip.html">Advanced topics: custom diploid genotypes</a> for documentation). Thanks to Jeremy Van Cleve for motivating this change, which should allow models involving space and social interactions, once some experimental features are worked out and become part of the main library (see below).</li>
<li>extensions/ directory renamed python_examples</li>
<li>Makefiles added for the boost.python examples. These are not generated by ./configure, as compiling these is simply different from compiling the examples/unit tests</li>
<li>Fitness policies for multilocus simulations now take iterators pointing to multilocus genotypes, in lieu of const-references to those genotypes. This is done for the sake of API consistency across the library, but it does break source-level compatibility with existing simulations (although fixes will be easy). Examples, unit tests, tutorials, etc., have been updated to account for this change.</li>
<li>Mutation distpach methods implemented in 0.3.0 via KTfwd::tags::gamete_dependent are now dispatched using std::true_type and std::false_type</li>
<li>Namespace <a class="el" href="../../d5/d8a/namespaceKTfwd_1_1experimental.html">KTfwd::experimental</a> has been added as a safe place for experimenting with future library features. The source files are in fwdpp/experimental. These headers do get installed with the library, but documentation will be minimal.</li>
<li>Example programs based on experimental features are in experimental_examples. These examples are "bleeding edge", and are not guaranteed to compile on all systems, especially those without complete working boost installations (including the compiled run-time libraries).</li>
<li>experimental_examples/sex_limited_ind.cc is an example of using experimental library features to simulate separate sexes, sex-specific fitness effects, etc.</li>
<li>Sugar typedefs in <a class="el" href="../../d5/dd9/singlepop_8hpp.html">fwdpp/sugar/singlepop.hpp</a>, <a class="el" href="../../df/dae/metapop_8hpp.html">fwdpp/sugar/metapop.hpp</a>, and in <a class="el" href="../../d6/d10/multiloc_8hpp.html">fwdpp/sugar/multiloc.hpp</a> are now compatible with custom diploid types. The template alias now defaults to a pair of iterators pointing to gametes, which you may over-ride with your own type.</li>
<li>The devtools setup script had some bugs fixed. (<a class="el" href="../../d9/d5d/md_md_devtools.html">Tutorial 4: Starting projects based on fwdpp</a>)</li>
<li><a class="el" href="../../da/d8b/namespaceKTfwd.html#a0a185fec49aa68f3435e003b377cafd1">KTfwd::sample_diploid</a> has been modified to make fewer calls to random number generators for the common use case of no selfing. This change results in N*generations fewer RNG calls, and can speed simulations by as much as ten percent. A side-effect is that results will differ from simulations compiled against earlier versions of the library. A preprocessor macro/symbol (FWDPP_COMPAT_0_3_0) has been introduced. Compilling programs with -DFWDPP_COMPAT_0_3_0 will result in the older/slower algorithm being used.</li>
<li>A new document describing preprocessor symbols and their effect on fwdpp has been added (<a class="el" href="../../d1/d6b/md_md_preproc.html">Preprocessor symbols</a>)</li>
<li>All occurrences of NULL in the library have been replaced with the C++11 <a href="http://www.cplusplus.com/reference/cstddef/nullptr_t/">nullptr</a>. The latter is safer in templates because the former can evaluate to 0 in some cases.</li>
<li>All gamete-based code has been removed from the library. If you need it for any reason, you're stuck with with 0.3.0 and earlier.</li>
<li>Mutation models may now have various function signatures. See <a class="el" href="../../d1/d7a/md_md_policies.html">Tutorial 1: Policies in fwdpp</a> and the example programs for details. The file fwdpp/tags/mutation_tags.hpp has been removed. This was introduced in 0.3.0, and defined KTfwd::tags::gamete_dependent, which has been replaced with a newer, much more flexible method of policy dispatching. See <a class="el" href="../../d3/d80/mutation__internal_8hpp.html">fwdpp/internal/mutation_internal.hpp</a> for the details of how this was done.</li>
<li><a class="el" href="../../dc/d54/type__traits_8hpp.html">fwdpp/type_traits.hpp</a> was added to the library, proving namespace <a class="el" href="../../d0/d30/namespaceKTfwd_1_1traits.html" title="Nested namespace type traits. ">KTfwd::traits</a>.</li>
<li><a class="el" href="../../df/d07/structKTfwd_1_1infsites.html" title="Generic function object implementing the infinitely-many sites mutation model for &quot;standard&quot; populati...">KTfwd::infsites</a> no longer requires that a pointer to a mutation list be passed to the call operator</li>
<li><a class="el" href="../../de/d25/structKTfwd_1_1mutation__writer.html" title="Facilitates serialization of mutation types supported by the fwdpp sugar library. ...">KTfwd::mutation_writer</a> and <a class="el" href="../../d7/d1a/structKTfwd_1_1mutation__reader.html" title="Facilitates serialization of mutation types supported by the fwdpp sugar library. ...">KTfwd::mutation_reader</a> now support gzFiles.</li>
<li><a class="el" href="../../d1/d04/structKTfwd_1_1gzserialize.html">KTfwd::gzserialize</a> and <a class="el" href="../../d6/dde/structKTfwd_1_1deserialize.html" title="Deserialize population objects. ">KTfwd::deserialize</a> have been added to <a class="el" href="../../d8/d21/serialization_8hpp.html">fwdpp/sugar/serialization.hpp</a></li>
</ul>
<h2>0.3.0</h2>
<ul>
<li>Allow for mutation policies that depdend on the current state of a gamete via KTfwd::tags::gamete_dependent. Example <a class="el" href="../../d5/d77/HOC__ind_8cc.html">HOC_ind.cc</a> illustrates its use.</li>
<li>Added dispatch tag to <a class="el" href="../../d6/d90/structKTfwd_1_1gamete__base.html" title="Base class for gametes. ">KTfwd::gamete_base</a>, via <a class="el" href="../../dd/dbf/structKTfwd_1_1tags_1_1gamete__type__tag.html" title="Dispatch tags for gamete types. ">KTfwd::tags::gamete_type_tag</a>. Currently, this feature is not used in the library. Its addition affects nothing other than what happens during compilation, and it may be used in the future to add new features to the library, or it may be remvoed.</li>
<li>Namespace <a class="el" href="../../dd/d0a/namespaceKTfwd_1_1sugar.html" title="Nested namespace for sugar layer. ">KTfwd::sugar</a> and <a class="el" href="../../de/d6e/group__sugar.html">Syntactic sugar layer</a> functions added.</li>
<li>All <em>individual-based</em> examples have been rewritten using the sugar code</li>
<li>New tutorial added: <a class="el" href="../../db/dd8/md_md_sugar.html">Tutorial 5: the "sugar" layer on top of fwdpp</a></li>
<li>New tutorial added: <a class="el" href="../../d5/d00/md_md_datatypes.html">Tutorial 0: Data types in fwdpp</a></li>
<li>The policies tutorial (<a class="el" href="../../d1/d7a/md_md_policies.html">Tutorial 1: Policies in fwdpp</a>) has been rewritten</li>
<li>Unit tests for sugar layer added</li>
</ul>
<h2>0.2.9</h2>
<ul>
<li>Added new unit test (siteDepFitness) to check for the effect of issue #8. Fortunately, fitness calculations were correct even with the bug, as the rest of the function did the right thing.</li>
<li>Fixed issue #8, so that the code block in question will actually do what is intended.</li>
</ul>
<h2>0.2.8</h2>
<ul>
<li>Fixed issue #5, which was a bug in migrating gametes in multi-population, individual-based simulations.</li>
<li>Fixed issue #6, which was a bug in how parents were copied in multi-population, individual-based simulations.</li>
<li>Fixed issue #7, which was a bug in when gametes were updated post-sampling in multi-population, individual-based simulations.</li>
<li>Two new example programs added: migsel_split_ind and migsel_split_ind_list</li>
<li>fwdpp/IO.tcc streamlined using C++11 "auto" instead of nasty typedefs</li>
</ul>
<h2>0.2.7</h2>
<ul>
<li>Versions ms_sample and ms_sample_separate that took containers of gametes as arguments are now compatible with individual-based simulations.</li>
<li>The "devtools" stuff is greatly improved, and a new tutorial added on how to use it: <a class="el" href="../../d9/d5d/md_md_devtools.html">Tutorial 4: Starting projects based on fwdpp</a></li>
</ul>
<h2>0.2.6</h2>
<ul>
<li>const mutation lists now passed to binary output routines</li>
<li>The library internals now fully support C++11 move semantics</li>
<li>Default policies now support C++11 "perfect forwarding"</li>
<li>The function <a class="el" href="../../da/d8b/namespaceKTfwd.html#aa61deb23ca543c4508c83be0690ae408">KTfwd::recombine_gametes</a>, which is provided for recombination in individual-based simulations, has an overloaded version. This new version takes a fixed set of positions representing recombination breakpoints, allowing more modeling flexibility and making unit testing easier.</li>
<li>The mechanics of recombination in multilocus simulations moved to function multilocus_rec in namesapce <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html" title="Nested namespace for nuts and bolts of certain library functions. ">KTfwd::fwdpp_internal</a>.</li>
<li>A unit test for the function KTfwd::fwdpp_internal::multilocus_rec was added.</li>
<li>Added tutorial for multilocus simulation implmentation</li>
<li>Minor cleanups to the build system</li>
<li>Reorganization of <a class="el" href="../../df/d9f/IO_8hpp.html">fwdpp/IO.hpp</a> and fwdpp/IO.tcc to reduce code duplication and provide output routines for multilocus simulations. There are no longer separate read functions for gzFiles. The necessary operations are handled automatically by overloads of template functions in namespace <a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html" title="Nested namespace for nuts and bolts of certain library functions. ">KTfwd::fwdpp_internal</a>.</li>
<li>Reorganization of fwdpp/sampling_functions.tcc: overloads of ms_sample are now implemented via calls to ms_sample_separate. The results from the latter function are then merged using C++11 move semantics. This reduces code redundancy, reduces the possible locations of bugs, and should keep efficiency about the same.</li>
</ul>
<h2>0.2.5</h2>
<p>The following changes:</p>
<ol type="1">
<li>fwdpp/diploid_functions_ind_multilocus.tcc was added. This contains a more natural method of simulating mutiple partially-linked regions. The header fwdpp/diploid_functions.hpp contains the relevant prototypes. These routines are still in "beta" stage, and full support for simulations of partially-linked regions will be put off until a future version, likely 0.2.6 or later.</li>
<li>Header files have been reorganized. <a class="el" href="../../df/df8/diploid_8hh.html" title="Main header for programming using this library. ">fwdpp/diploid.hh</a> is still the header to use. The reorg has been for the developer's sanity.</li>
<li>C++11 support is now required. A side-effect is that users may use what is currently the dev branch of libsequence, which requires c++11 and no longer requires boost. However, simulations using fwdpp will still be a <em>lot</em> faster with boost installed!</li>
<li>Internally, functions from namespace boost have been replaced with the namespace std equivalents provided by the C++11 standard.</li>
<li>The internal library functions have been audited for performance. This audit resulted in changing where some book-keeping functions were called, replacing linear-time search algorithms with logarithmic-time searches, and removing an unnecessary call to std::sort following crossover events. The result of this audit was a big speedup of simulation run-times, but no change in simulation output (in other words, the same random number seed gives the same result for the same parameters for the same program in 0.2.4 and 0.2.5).</li>
<li>autoconf stuff rewritten (configure.ac, Makefile.am, etc.)</li>
<li>Internally, the library has moved to a more "functional programming" style, emphasizing lambda expressions over function objects. This change means that the library no longer needs to define function objects that are only used by the library "internals". Such function objects have been removed, replaced with lambda expressions, and will no longer clutter the library documentation.</li>
<li>The code for recombination has been streamlined quite a bit. Same algorithm (although noting the changes in point 5 above), but way fewer lines of code.</li>
<li>The devtools directory has been added. It contains a script to setup packages using fwdpp.</li>
<li>Examples are now built via "make check" and not by default</li>
<li>Refactoring so that gamete- and individual- based methods share common code.</li>
<li>A new namespace (<a class="el" href="../../de/dbd/namespaceKTfwd_1_1fwdpp__internal.html" title="Nested namespace for nuts and bolts of certain library functions. ">KTfwd::fwdpp_internal</a>) now resides in fwdpp/internal. This sub-namespace contains some of the more important inner-workings of the library that are used in several places. Part of the goal of this sub-namespace is to separate the deterministic stuff from the stochastic stuff, in order for the latter to be unit-testable.</li>
<li>Boost's unit testing library is now used for unit testing. To goal is to make sure that the stuff in fwdpp/internal all works. The tests are compiled via "make check".</li>
<li>Use config.h to manage preprocessor stuff</li>
</ol>
<h2>0.2.4</h2>
<p>The following changes:</p>
<ol type="1">
<li><a class="el" href="../../df/d9f/IO_8hpp.html">fwdpp/IO.hpp</a> and fwdpp/IO.tcc were updated to include the ability to read/write binary-format data to/from gzip files. The gzip compression uses <a href="http://zlib.net">zlib</a>. Note that the combination of POSIX file locking + gzip output requires more work than "plain" binary output + file locking. Please see the new examples. Differences in how gztell vs. ftell mean that the index files generated are different. See my <a href="https://github.com/molpopgen/BigDataFormats">tutorial</a> on on "big data" file formats for more detail.</li>
<li>examples/pfix.cc was added. This estimates the fixation probability of a mutation subject to genic selection in a constant-sized population of N diploids.</li>
<li>examples/diploid_gzbinaryIO.cc and <a class="el" href="../../d0/d03/diploid__gzbinaryIO__ind_8cc.html">examples/diploid_gzbinaryIO_ind.cc</a> were added. They illustrate the new functions mentioned in point 1.</li>
<li>The folder "test" was added. This contains several Rmd (<a href="http://rmarkdown.rstudio.com/">R Markdown</a>) documents that you can process either in <a href="http://www.rstudio.com/">R studio</a> or plain old <a href="http://www.r-project.org">R</a>. In either case, you'll need <a href="http://cran.r-project.org/web/packages/knitr/index.html">knitr</a> installed. </li>
</ol>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
