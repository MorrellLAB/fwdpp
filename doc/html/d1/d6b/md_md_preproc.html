<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>fwdpp: Preprocessor symbols</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fwdpp
   &#160;<span id="projectnumber">0.4.5</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li><a href="../../examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Preprocessor symbols </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This document describes the various preprocessor symbols affecting how simulations compiled against <b>fwdpp</b> behave.</p>
<h2>Backwards compatibility/reproducibility</h2>
<p>With the exception of bug fixes, the intention is that simulation results are reproducible when compiled against different versions of the library. Sometimes, though, algorithm improvements may be introduced that change the order and/or the number of calls to a random number generator. Such changes necessarily change the final output of a simulation. Where possible, the preprocessor can be used to select between the new/improved code and the older code for situations where you want to reproduce results exactly (assuming the same GSL random number generator, seed, etc.).</p>
<p>The format for these symbols is FWDPP_COMPAT_X, meaning that defining the symbols results in code identical to that used in <b>fwdpp</b> versions <em>less than or equal to X</em>.</p>
<p>The symbols curently in use are:</p>
<ul>
<li>FWDPP_COMPAT_0_3_0: version 0.3.1 of the library made changes to the implementation of selfing. If you need to reproduce results based on <b>fwdpp</b> version prior to 0.3.1, compile your program with -DFWDPP_COMPAT_0_3_0</li>
</ul>
<h3>Example use</h3>
<p>To compile the example programs using the selfing implementation from version 0.3.0 and earlier, you may configure the library like this:</p>
<div class="fragment"><div class="line">./configure CXXFLAGS=<span class="stringliteral">&quot;-O2 -g -DFWDPP_COMPAT_0_3_0&quot;</span></div>
</div><!-- fragment --><p>You need to add the "-g -O2" as well, because you are asking the configure script to override the default compiler flags with your own custom flags, but you definitely want to compile with optimization!</p>
<h2>Internal use of boost or std containers</h2>
<p>Testing during development identified some cases where there is a performance advantage to using boost::vector instead of std::vector. The decision of what to use is controlled by code like this:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#if defined(HAVE_BOOST_VECTOR) &amp;&amp; !defined(USE_STANDARD_CONTAINERS)</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">//Use boost::container::vector</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor"></span><span class="comment">//use std::vector</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>The most straightforward/portable way to deal with these two symbols is via a system like <a href="https://www.gnu.org/software/automake/manual/html_node/Autotools-Introduction.html">GNU autotools</a>. Specifically, you want the ./configure step to output a config.h header that your programs will include. The easiest way to do this is to use the "devtools" included with the library source code when starting your own projects based on <b>fwdpp</b> (<a class="el" href="../../d9/d5d/md_md_devtools.html">Tutorial 4: Starting projects based on fwdpp</a>). </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
