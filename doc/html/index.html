<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>fwdpp: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">fwdpp
   &#160;<span id="projectnumber">0.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">fwdpp Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>fwdpp - A C++ template library for forward-time population genetic simulations</p>
<p>Copyright (C) 2013 Kevin Thornton</p>
<p>fwdpp is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.</p>
<p>This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for more details.</p>
<p>You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA</p>
<p>Comments are welcome. </p>
<pre class="fragment">    - Kevin Thornton &lt;krthornt@uci.edu&gt;
</pre><h1>Preface</h1>
<p>This README is the main page of the fwdpp documentation. It may display some things oddly when viewed on GitHub and/or links to other documentation pages may be broken. These issues are not bugs &ndash; please see the Reference Manual at the <a href="http://molpopgen.github.io/fwdpp/">fwdpp home page</a> for a fully-formatted version of this document.</p>
<h1>Introduction</h1>
<p>fwdpp is a C++ template library that abstracts the basic operations required to implement forward-time simulations of population- and quantitative-genetic models. The library allows the simulation of single populations or metapopulations evolving under the standard evolutionary forces of drift, recombination, migration, and natural selection. Arbitrary population size changes are also allowed. Different populations in a metapopulation may evolve under different fitness schemes.</p>
<p>The library uses advanced C++ techniques to allow arbitrary models to be implemented via the implementation of simple policies (see Documentation section below). A programmer wishing to use the library will need a strong background in templates, function objects, and the Standard Template Library (STL). Web resources for these topics vary too much in quality to recommend any particular one. However, there are several classic books that are must-reads for C++ programmers (old school, I know):</p>
<ol type="1">
<li>Scott Meyer's "trilogy" of "Effective C++", "More Effective C++", and "Effective STL".</li>
<li>Nicolai Josuttis' "The C++ Standard Template Library"</li>
<li>David Vandevoorde and and Nicolai Josuttis, "C++ Templates"</li>
</ol>
<p>The first two are excellent books for people already familiar with C++ syntax but want to know more about effective software design using the language. Meyer's books are particularly good, espectially the first two. The C++ Templates book is a bible of how to get the most out of templates. It is a very advanced and detailed book, but I've found it helpful over the years.</p>
<h2>A note about which version to use</h2>
<p>This code is distributed via my gitub <a href="http://www.github.com/molpopgen">account</a>. The "master" and "dev" branches should be viewed as experimental. The <a href="https://github.com/molpopgen/fwdpp/releases">releases</a>, however, correspond to tested versions of the library fit for public consumption. This means that, while the version number in the configure script on master/dev may match that of a recent release, <em>that does not mean that the features/stability/bugs present in master/dev are identical to those of the release.</em> If you want to use fwdpp for research, use the latest <a href="https://github.com/molpopgen/fwdpp/releases">release</a>. If you want to play around with the latest and (occasionally not-so) greatest, look at the dev branch. If you want to look at the latest I believe to be stable, look at master. Also note that master may be ahead of dev, etc., depending on what I've committed from my development server to the repo stored at github.</p>
<h3>Revision history</h3>
<p><a class="el" href="d0/d00/md_md_RELEASE_NOTES.html">Release notes</a></p>
<p>Specific version numbers ("tags" in git-ese, a.k.a. "releases") will occur when new feature are added to the library and/or bugs are fixed. The details of what happens in each release can be found <a class="el" href="d0/d00/md_md_RELEASE_NOTES.html">here</a>, beginning with release 0.2.4.</p>
<h2>Which C++?</h2>
<p>As of version 0.2.5, fwdpp requires a compiler supporting the "C++11" version of the language. Currently, fwdpp requires that your compiler support the flag -std=c++11 in order to use c++11 language features. Recent version of GCC (4.7 or greater) and clang (3.4 or greater, but I've not checked earlier versions) both support this option, which covers most Linux and OS X users.</p>
<h2>Citation</h2>
<p>The fwdpp manuscript has been accepted for publication in Genetics. The accepted version of the manuscript is <a href="http://www.genetics.org/content/early/2014/06/19/genetics.114.165019.abstract">here</a>. For LaTeX users:</p>
<div class="fragment"><div class="line">@Article{,</div>
<div class="line">  author =       {K. R. Thornton},</div>
<div class="line">  title =        {A C++ Template Library <span class="keywordflow">for</span> Efficient Forward-Time Population Genetic Simulation of Large Populations},</div>
<div class="line">  journal =      {Genetics},</div>
<div class="line">  year =         {2014},</div>
<div class="line">  OPTkey =       {},</div>
<div class="line">  volume =       {198},</div>
<div class="line">  OPTnumber =    {},</div>
<div class="line">  pages =        {157-166},</div>
<div class="line">  OPTmonth =     {},</div>
<div class="line">  OPTnote =      {},</div>
<div class="line">  annote =       {doi:/10.1534/genetics.114.165019}</div>
<div class="line">}</div>
</div><!-- fragment --><p>The version of fwdpp used in that publication is 0.2.4.</p>
<h1>Documentation</h1>
<h2>Online</h2>
<p>A tutorial on policies and the library's reference manual can be found at <a href="http://molpopgen.github.io/fwdpp">molpopgen.github.io/fwdpp</a> or <a class="el" href="d1/d7a/md_md_policies.html">here</a>.</p>
<p><b>Note:</b> the links above may be out of date, as the online documentation are not regenerated automatically. If you want the latest, builds the docs from source.</p>
<h2>Tutorials</h2>
<p>The <a href="http://molpopgen.github.io/fwdpp">fwdpp</a> main page contains several tutorials:</p>
<ul>
<li><a class="el" href="d5/d00/md_md_datatypes.html">Tutorial 0: Data types in fwdpp</a></li>
<li><a class="el" href="d1/d7a/md_md_policies.html">Tutorial 1: Policies in fwdpp</a></li>
<li><a class="el" href="de/dbc/md_md_multiloc.html">Tutorial 2: Implementing multilocus simulations</a></li>
<li><a class="el" href="d5/d9d/md_md_serialization.html">Tutorial 3: Data serialization</a></li>
<li><a class="el" href="d9/d5d/md_md_devtools.html">Tutorial 4: Starting projects based on fwdpp</a></li>
<li><a class="el" href="db/dd8/md_md_sugar.html">Tutorial 5: the "sugar" layer on top of fwdpp</a></li>
</ul>
<h2>Built from source</h2>
<p>The source code documentation is in the doc subdirectory that comes with the library. There are two major pieces of documentation. First is the detailed documentation of all library functions. This is generated via <a href="http://www.doxygen.org">doxygen</a>, and the output is a folder called html. To view the documentation, point a browser to html/index.html.</p>
<h2>Example documentation</h2>
<p>The examples can be read in html form via the online reference manual linked to above. You can find the two simplest examples online at the fwdpp <a href="https://github.com/molpopgen/fwdpp/wiki">wiki</a> on github.</p>
<h1>Dependencies</h1>
<h2>System requirements</h2>
<p>You must have the following on your system:</p>
<ol type="1">
<li>A C++ compiler equivalent to gcc 4.6 or greater. On OS X, this likely means that you should be running OS X Mavericks with Xcode installed, and have then installed the command line tools (which is done from within Xcode.)</li>
<li>Ideally, one should have the <a href="http://git-scm.com/book/en/Getting-Started-Installing-Git">git</a> command line tools installed. These are likely already installed on many systems.</li>
</ol>
<h2>Library dependencies</h2>
<p>fwdpp depends upon the following libraries:</p>
<ol type="1">
<li><a href="http://www.boost.org">boost</a>. Note: use of boost is optional, but is the default.</li>
<li><a href="http://gnu.org/software/gsl">GSL</a></li>
<li><a href="http://zlib.net">zlib</a></li>
<li><a href="http://github.com/molpopgen/libsequence">libsequence</a>.</li>
</ol>
<p>The first three are available as pre-built packages on most Linux distributions and via <a href="http://github.com/Homebrew/homebrew-science">homebrew-science</a> on OS X . The latter (libsequence) also depends on the first three, and must be built from source or via <a href="http://github.com/Homebrew/homebrew-science">homebrew-science</a> on OS X.</p>
<h3>Why use boost?</h3>
<p>C++ containers (vectors, lists, etc.) are parameterized by the type of data that they store and the method use to allocate memory. Thus, when you declare:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="df/df8/diploid_8hh.html">diploid.hh</a>&gt;</span></div>
<div class="line">std::list&lt; KTfwd::mutation &gt; <a class="code" href="dd/d6c/siteDepFitness_8cc.html#a5343ffa32173d1ca8624a7d19e41f658">mlist</a>;</div>
</div><!-- fragment --><p>you are really saying:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="df/df8/diploid_8hh.html">diploid.hh</a>&gt;</span></div>
<div class="line">std::list&lt; KTfwd::mutation, std::allocator&lt;KTfwd::mutation&gt; &gt;</div>
</div><!-- fragment --><p>Boost provides a memory pool allocator that can be used to greatly speed up simulations:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;boost/pool/pool_alloc.hpp&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="df/df8/diploid_8hh.html">diploid.hh</a>&gt;</span></div>
<div class="line"><span class="comment">//You can also use boost::container::list instead of std::list, etc.</span></div>
<div class="line">std::list&lt; KTfwd::mutation,boost::pool_allocator&lt;KTfwd::mutation&gt; &gt;</div>
</div><!-- fragment --><p>The memory pool is more efficient than the standard allocator in the case where objects are constantly being allocated and deallocated, which is the case for forward simulations, where mutations are entering the population and often rapidly going extinct.</p>
<p>Technically, if your write your own vector/list classes that are parameterized in the same way as the STL classes, then you may also (attempt to) use those with <b>fwdpp</b>. If such containers work, let me know. If they are really fast, let me know.</p>
<h2>Obtaining the source code</h2>
<h3>Obtaining the master branch</h3>
<p>You have a few options:</p>
<ol type="1">
<li>Clone the repo (best option): git clone <a href="https://github.com/molpopgen/fwdpp.git">https://github.com/molpopgen/fwdpp.git</a></li>
<li>Click on "Download Zip" at <a href="https://github.com/molpopgen/fwdpp">https://github.com/molpopgen/fwdpp</a></li>
</ol>
<h3>Obtaining a specific release</h3>
<p>Again, a few options:</p>
<ol type="1">
<li>Click on "Releases" at <a href="https://github.com/molpopgen/fwdpp,">https://github.com/molpopgen/fwdpp,</a> then download the one you want</li>
<li>Clone the repo (see previous section)</li>
</ol>
<p>Or:</p>
<ol type="1">
<li>Get a list of releases by saying "git tag -l"</li>
<li>Checkout the release you want. For example "git checkout 0.2.6"</li>
</ol>
<p>Another option is to click on <a href="https://github.com/molpopgen/fwdpp/releases">releases</a> from the main <a href="https://github.com/molpopgen/fwdpp">project page</a> at github.</p>
<p>On a decent browser, when you click on a release, it should be called fwdpp-version.tar.gz. Sometimes, though, you may get version.tar.gz. This is a browser-by-github interaction problem. On my systems, I get the correct result.</p>
<h1>Installation</h1>
<h2>The case of a standard system with all dependencies installed in standard locations</h2>
<p>If you cloned the git repo: </p>
<div class="fragment"><div class="line">cd fwdpp</div>
</div><!-- fragment --><p> If you downloaded a release:</p>
<div class="fragment"><div class="line">tar xzf fwdpp-version.tar.gz</div>
<div class="line">cd fwdpp-version</div>
</div><!-- fragment --><p>Then:</p>
<div class="fragment"><div class="line">./configure</div>
<div class="line">make</div>
<div class="line">make install</div>
</div><!-- fragment --><p>To compile examples and unit tests:</p>
<div class="fragment"><div class="line">make check</div>
</div><!-- fragment --><p>Currently, the example programs will not get installed via "make install". If you want them to be installed system-wide, copy the binaries manually to where you need them.</p>
<h2>To compile examples and install library without boost</h2>
<div class="fragment"><div class="line">./configure --enable-<a class="code" href="d3/dea/namespaceKTfwd_1_1tags.html#af816e12f7b8648716658bd3f7dbc5382ac00f0c4675b91fb8b918e4079a0b1bac">standard</a>=yes</div>
<div class="line">make check</div>
<div class="line">make install</div>
</div><!-- fragment --><p>The option passed to the configure script will pass -DUSE_STANDARD_CONTAINERS to the C++ preprocessor. This symbol means that the example programs will be built using containers from the C++ standard library rather than from the boost libraries. Not using boost's pool_allocator can result in substantial performance loss in simulations with high mutation and/or recombination rates.</p>
<p>Related to the above note, it is worth installing boost on your system. Many of their libraries, especially program_options, will probably be worth using for simulations that you write.</p>
<h2>If dependent libraries are in non-stanard locations.</h2>
<p>For example, if libsequence is in /opt:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#Note, you need to add in the desired optimization (-OXX) level:</span></div>
<div class="line"><span class="preprocessor"></span>./configure CXXFLAGS=-<span class="stringliteral">&quot;-O2 -I/opt/include&quot;</span> LDFLAGS=<span class="stringliteral">&quot;$LDFLAGS -L/opt/lib&quot;</span></div>
<div class="line">make check</div>
<div class="line">make install</div>
</div><!-- fragment --><h2>Installing in a custom location</h2>
<div class="fragment"><div class="line">./configure --prefix=/path/2/where/you/want it</div>
</div><!-- fragment --><p> For example:</p>
<div class="fragment"><div class="line">./configure --prefix=$HOME</div>
</div><!-- fragment --><h2>Examples</h2>
<p>The examples are documented <a class="el" href="df/dcb/md_md_examples.html">here</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
